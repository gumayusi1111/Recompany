# ğŸ¤– AIåŠ©æ‰‹å¼€å‘æŒ‡å—

## ğŸ“– ç›®å½•
1. [éœ€æ±‚åˆ†æä¸ä»»åŠ¡è½¬æ¢](#éœ€æ±‚åˆ†æä¸ä»»åŠ¡è½¬æ¢)
2. [æ•°æ®åº“å­—æ®µä¿®æ”¹æµç¨‹](#æ•°æ®åº“å­—æ®µä¿®æ”¹æµç¨‹)
3. [éªŒè¯ä¸ç¡®è®¤æœºåˆ¶](#éªŒè¯ä¸ç¡®è®¤æœºåˆ¶)
4. [å¯è§†åŒ–å·¥å…·ä½¿ç”¨](#å¯è§†åŒ–å·¥å…·ä½¿ç”¨)
5. [ç”¨æˆ·ä¿¡æ¯æ”¶é›†æ¸…å•](#ç”¨æˆ·ä¿¡æ¯æ”¶é›†æ¸…å•)

---

## ğŸ¯ éœ€æ±‚åˆ†æä¸ä»»åŠ¡è½¬æ¢

### æ¥æ”¶ç”¨æˆ·éœ€æ±‚çš„æ ‡å‡†æµç¨‹

#### ç¬¬1æ­¥ï¼šéœ€æ±‚ç†è§£ä¸ç¡®è®¤
```markdown
ç”¨æˆ·éœ€æ±‚ç¤ºä¾‹ï¼š
"æˆ‘æƒ³åœ¨é¦–é¡µæ·»åŠ ä¸€ä¸ªæ–°é—»å…¬å‘Šæ¨¡å—ï¼Œæ˜¾ç¤ºæœ€æ–°çš„3æ¡å…¬å‘Š"

AIåˆ†æè¦ç‚¹ï¼š
1. åŠŸèƒ½èŒƒå›´ï¼šé¦–é¡µæ–°å¢æ¨¡å—
2. æ•°æ®ç»“æ„ï¼šæ–°é—»å…¬å‘Šè¡¨
3. æ˜¾ç¤ºé€»è¾‘ï¼šæœ€æ–°3æ¡
4. å…³è”å…³ç³»ï¼šä¸é¦–é¡µçš„å…³è”
```

#### ç¬¬2æ­¥ï¼šæŠ€æœ¯ä»»åŠ¡åˆ†è§£
```markdown
å…·ä½“å¼€å‘ä»»åŠ¡ï¼š
1. è®¾è®¡ERå›¾ï¼šæ–°é—»å…¬å‘Šå®ä½“åŠå…¶ä¸é¦–é¡µçš„å…³ç³»
2. åˆ›å»ºPrismaæ¨¡å‹ï¼šNewsè¡¨å’ŒHomepage-Newså…³è”è¡¨
3. åˆ›å»ºZodéªŒè¯æ¨¡å¼ï¼šæ–°é—»CRUDçš„æ•°æ®éªŒè¯
4. å®ç°APIæ¥å£ï¼šæ–°é—»çš„å¢åˆ æ”¹æŸ¥
5. å‰ç«¯ç»„ä»¶å¼€å‘ï¼šæ–°é—»å±•ç¤ºç»„ä»¶
6. é›†æˆæµ‹è¯•ï¼šç¡®ä¿åŠŸèƒ½æ­£å¸¸å·¥ä½œ
```

#### ç¬¬3æ­¥ï¼šä¼˜å…ˆçº§æ’åº
```markdown
å¼€å‘ä¼˜å…ˆçº§ï¼š
1. é«˜ä¼˜å…ˆçº§ï¼šæ•°æ®åº“ç»“æ„è®¾è®¡ï¼ˆå½±å“åç»­æ‰€æœ‰å¼€å‘ï¼‰
2. ä¸­ä¼˜å…ˆçº§ï¼šåç«¯APIå®ç°ï¼ˆæä¾›æ•°æ®æ¥å£ï¼‰
3. ä½ä¼˜å…ˆçº§ï¼šå‰ç«¯UIä¼˜åŒ–ï¼ˆç”¨æˆ·ä½“éªŒæå‡ï¼‰
```

### å¸¸è§éœ€æ±‚ç±»å‹åŠå¤„ç†æ–¹å¼

#### ç±»å‹1ï¼šæ–°å¢åŠŸèƒ½æ¨¡å—
**è¯†åˆ«å…³é”®è¯ï¼š** "æ·»åŠ "ã€"æ–°å¢"ã€"åˆ›å»º"
**å¤„ç†æµç¨‹ï¼š**
1. åˆ†ææ•°æ®ç»“æ„éœ€æ±‚
2. è®¾è®¡æ•°æ®åº“è¡¨
3. åˆ›å»ºAPIæ¥å£
4. å®ç°å‰ç«¯ç»„ä»¶

#### ç±»å‹2ï¼šä¿®æ”¹ç°æœ‰åŠŸèƒ½
**è¯†åˆ«å…³é”®è¯ï¼š** "ä¿®æ”¹"ã€"æ›´æ–°"ã€"è°ƒæ•´"
**å¤„ç†æµç¨‹ï¼š**
1. åˆ†æç°æœ‰å®ç°
2. è¯„ä¼°ä¿®æ”¹å½±å“èŒƒå›´
3. åˆ¶å®šè¿ç§»ç­–ç•¥
4. é€æ­¥å®æ–½ä¿®æ”¹

#### ç±»å‹3ï¼šåˆ é™¤åŠŸèƒ½
**è¯†åˆ«å…³é”®è¯ï¼š** "åˆ é™¤"ã€"ç§»é™¤"ã€"å–æ¶ˆ"
**å¤„ç†æµç¨‹ï¼š**
1. ç¡®è®¤åˆ é™¤èŒƒå›´
2. æ£€æŸ¥ä¾èµ–å…³ç³»
3. åˆ¶å®šæ•°æ®æ¸…ç†ç­–ç•¥
4. æ‰§è¡Œå®‰å…¨åˆ é™¤

---

## ğŸ—„ï¸ æ•°æ®åº“å­—æ®µä¿®æ”¹æµç¨‹

### å®Œæ•´çš„å­—æ®µä¿®æ”¹æµç¨‹

#### ç¬¬1æ­¥ï¼šERå›¾è®¾è®¡
```puml
@startuml
entity "æ–°é—»å…¬å‘Š" as News {
  * å…¬å‘ŠID : UUID <<PK>>
  --
  æ ‡é¢˜ : å­—ç¬¦ä¸²
  å†…å®¹ : æ–‡æœ¬
  å‘å¸ƒæ—¶é—´ : æ—¶é—´æˆ³
  çŠ¶æ€ : æšä¸¾(è‰ç¨¿/å‘å¸ƒ/ä¸‹çº¿)
  åˆ›å»ºæ—¶é—´ : æ—¶é—´æˆ³
  æ›´æ–°æ—¶é—´ : æ—¶é—´æˆ³
}

entity "é¦–é¡µ" as Homepage {
  * é¦–é¡µID : UUID <<PK>>
  --
  åˆ›å»ºæ—¶é—´ : æ—¶é—´æˆ³
  æ›´æ–°æ—¶é—´ : æ—¶é—´æˆ³
}

Homepage ||--o{ News : "æ˜¾ç¤º"
@enduml
```

#### ç¬¬2æ­¥ï¼šPrisma Schemaè½¬æ¢
```prisma
// æ–°å¢æ–°é—»å…¬å‘Šæ¨¡å‹
model News {
  id          String   @id @default(uuid()) @map("news_id")
  title       String   @map("news_title")
  content     String?  @map("news_content") @db.Text
  publishTime DateTime @map("publish_time")
  status      NewsStatus @default(DRAFT)
  homepageId  String   @map("homepage_id")
  createdAt   DateTime @default(now()) @map("created_at")
  updatedAt   DateTime @updatedAt @map("updated_at")
  
  // å…³è”å…³ç³»
  homepage    Homepage @relation("HomepageToNews", fields: [homepageId], references: [id], onDelete: Cascade)
  
  @@map("news")
}

enum NewsStatus {
  DRAFT     // è‰ç¨¿
  PUBLISHED // å·²å‘å¸ƒ
  OFFLINE   // å·²ä¸‹çº¿
}

// æ›´æ–°é¦–é¡µæ¨¡å‹
model Homepage {
  id        String   @id @default(uuid()) @map("homepage_id")
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  
  // æ–°å¢å…³è”å…³ç³»
  news      News[]   @relation("HomepageToNews")
  
  @@map("homepage")
}
```

#### ç¬¬3æ­¥ï¼šç”Ÿæˆè¿ç§»
```bash
# åœ¨backendç›®å½•æ‰§è¡Œ
npx prisma migrate dev --name add_news_module

# éªŒè¯è¿ç§»æ–‡ä»¶
cat prisma/migrations/[timestamp]_add_news_module/migration.sql
```

#### ç¬¬4æ­¥ï¼šåˆ›å»ºZodéªŒè¯æ¨¡å¼
```typescript
// backend/src/modules/news/schemas/news.schema.ts
import { z } from 'zod';

export const NewsStatusEnum = z.enum(['DRAFT', 'PUBLISHED', 'OFFLINE']);

export const CreateNewsSchema = z.object({
  title: z.string().min(1, 'æ ‡é¢˜ä¸èƒ½ä¸ºç©º').max(200, 'æ ‡é¢˜ä¸èƒ½è¶…è¿‡200å­—ç¬¦'),
  content: z.string().optional(),
  publishTime: z.date(),
  status: NewsStatusEnum.default('DRAFT'),
  homepageId: z.string().uuid('é¦–é¡µIDæ ¼å¼ä¸æ­£ç¡®'),
});

export const UpdateNewsSchema = CreateNewsSchema.partial().omit({ homepageId: true });

export type CreateNewsDto = z.infer<typeof CreateNewsSchema>;
export type UpdateNewsDto = z.infer<typeof UpdateNewsSchema>;
```

#### ç¬¬5æ­¥ï¼šéªŒè¯æ•°æ®åº“ç»“æ„
```bash
# å¯åŠ¨Prisma Studio
cd backend && npx prisma studio

# åœ¨æµè§ˆå™¨ä¸­éªŒè¯ï¼š
# 1. æ£€æŸ¥newsè¡¨æ˜¯å¦åˆ›å»º
# 2. æ£€æŸ¥å­—æ®µç±»å‹æ˜¯å¦æ­£ç¡®
# 3. æ£€æŸ¥å…³è”å…³ç³»æ˜¯å¦å»ºç«‹
# 4. æµ‹è¯•æ•°æ®æ’å…¥å’ŒæŸ¥è¯¢
```

---

## âœ… éªŒè¯ä¸ç¡®è®¤æœºåˆ¶

### å­—æ®µæ·»åŠ éªŒè¯æ¸…å•

#### æ•°æ®åº“å±‚é¢éªŒè¯
- [ ] è¡¨æ˜¯å¦æˆåŠŸåˆ›å»ºï¼š`\dt` åœ¨psqlä¸­æŸ¥çœ‹
- [ ] å­—æ®µç±»å‹æ˜¯å¦æ­£ç¡®ï¼š`\d table_name` æŸ¥çœ‹è¡¨ç»“æ„
- [ ] ç´¢å¼•æ˜¯å¦åˆ›å»ºï¼šæ£€æŸ¥ä¸»é”®å’Œå¤–é”®çº¦æŸ
- [ ] å…³è”å…³ç³»æ˜¯å¦æ­£ç¡®ï¼šæµ‹è¯•JOINæŸ¥è¯¢

#### åº”ç”¨å±‚é¢éªŒè¯
- [ ] Prismaå®¢æˆ·ç«¯æ˜¯å¦æ›´æ–°ï¼š`npx prisma generate`
- [ ] TypeScriptç±»å‹æ˜¯å¦ç”Ÿæˆï¼šæ£€æŸ¥@prisma/clientå¯¼å‡º
- [ ] ZodéªŒè¯æ˜¯å¦å·¥ä½œï¼šæµ‹è¯•æ•°æ®éªŒè¯
- [ ] APIæ¥å£æ˜¯å¦å“åº”ï¼šä½¿ç”¨curlæµ‹è¯•

### å­—æ®µåˆ é™¤ç¡®è®¤æœºåˆ¶

#### åˆ é™¤å‰å®‰å…¨æ£€æŸ¥
```bash
# 1. æ£€æŸ¥å­—æ®µä½¿ç”¨æƒ…å†µ
grep -r "fieldName" backend/src/
grep -r "fieldName" frontend/src/

# 2. æ£€æŸ¥æ•°æ®åº“ä¸­æ˜¯å¦æœ‰æ•°æ®
docker compose exec db psql -U postgres -d company_re -c "SELECT COUNT(*) FROM table_name WHERE field_name IS NOT NULL;"

# 3. å¤‡ä»½ç›¸å…³æ•°æ®
docker compose exec db pg_dump -U postgres -d company_re -t table_name > backup_before_delete.sql
```

#### åˆ é™¤æ‰§è¡Œæ­¥éª¤
```bash
# 1. ä¿®æ”¹Prisma schemaï¼ˆæ³¨é‡Šæ‰å­—æ®µï¼‰
# 2. ç”Ÿæˆè¿ç§»
npx prisma migrate dev --name remove_field_name

# 3. ç¡®è®¤è¿ç§»å†…å®¹
cat prisma/migrations/[timestamp]_remove_field_name/migration.sql

# 4. æ‰§è¡Œè¿ç§»ï¼ˆä¸å¯é€†æ“ä½œï¼‰
# è¿ç§»ä¼šè‡ªåŠ¨æ‰§è¡Œï¼Œæ•°æ®å°†æ°¸ä¹…åˆ é™¤
```

### å­—æ®µä¿®æ”¹éªŒè¯æ­¥éª¤

#### å…¼å®¹æ€§ä¿®æ”¹ï¼ˆå®‰å…¨ï¼‰
- æ‰©å¤§å­—æ®µé•¿åº¦ï¼šVARCHAR(50) â†’ VARCHAR(100)
- æ·»åŠ å¯é€‰å­—æ®µï¼šæ–°å¢å­—æ®µè®¾ç½®ä¸ºå¯ç©º
- ä¿®æ”¹é»˜è®¤å€¼ï¼šä¸å½±å“ç°æœ‰æ•°æ®

#### ä¸å…¼å®¹ä¿®æ”¹ï¼ˆå±é™©ï¼‰
- ç¼©å°å­—æ®µé•¿åº¦ï¼šå¯èƒ½å¯¼è‡´æ•°æ®æˆªæ–­
- ä¿®æ”¹å­—æ®µç±»å‹ï¼šString â†’ Int å¯èƒ½å¤±è´¥
- è®¾ç½®å­—æ®µä¸ºå¿…å¡«ï¼šç°æœ‰ç©ºå€¼ä¼šå¯¼è‡´é”™è¯¯

---

## ğŸ” å¯è§†åŒ–å·¥å…·ä½¿ç”¨

### Prisma Studioä½¿ç”¨æŒ‡å—

#### å¯åŠ¨å’Œè®¿é—®
```bash
# å¯åŠ¨Prisma Studio
cd backend && npx prisma studio

# è®¿é—®åœ°å€ï¼šhttp://localhost:5555
```

#### ä¸»è¦åŠŸèƒ½å’Œæ£€æŸ¥ç‚¹

##### 1. æ•°æ®åº“ç»“æ„éªŒè¯
- **è¡¨åˆ—è¡¨**ï¼šå·¦ä¾§é¢æ¿æ˜¾ç¤ºæ‰€æœ‰è¡¨
- **å­—æ®µä¿¡æ¯**ï¼šç‚¹å‡»è¡¨åæŸ¥çœ‹å­—æ®µè¯¦æƒ…
- **å…³è”å…³ç³»**ï¼šæŸ¥çœ‹è¡¨ä¹‹é—´çš„è¿æ¥çº¿

##### 2. æ•°æ®æ“ä½œå’ŒéªŒè¯
- **æŸ¥çœ‹æ•°æ®**ï¼šç‚¹å‡»è¡¨åæŸ¥çœ‹ç°æœ‰æ•°æ®
- **æ·»åŠ æ•°æ®**ï¼šç‚¹å‡»"Add record"æµ‹è¯•æ•°æ®æ’å…¥
- **ç¼–è¾‘æ•°æ®**ï¼šç›´æ¥ç¼–è¾‘å­—æ®µå€¼æµ‹è¯•æ›´æ–°
- **åˆ é™¤æ•°æ®**ï¼šæµ‹è¯•åˆ é™¤æ“ä½œ

##### 3. å…³è”å…³ç³»æµ‹è¯•
- **å¤–é”®çº¦æŸ**ï¼šæµ‹è¯•å…³è”æ•°æ®çš„åˆ›å»ºå’Œåˆ é™¤
- **çº§è”æ“ä½œ**ï¼šéªŒè¯onDelete: Cascadeæ˜¯å¦å·¥ä½œ
- **æ•°æ®ä¸€è‡´æ€§**ï¼šæ£€æŸ¥å…³è”æ•°æ®çš„å®Œæ•´æ€§

#### å¸¸ç”¨éªŒè¯åœºæ™¯

##### åœºæ™¯1ï¼šæ–°è¡¨åˆ›å»ºéªŒè¯
```markdown
æ£€æŸ¥æ¸…å•ï¼š
1. è¡¨æ˜¯å¦å‡ºç°åœ¨å·¦ä¾§åˆ—è¡¨ä¸­
2. å­—æ®µåç§°å’Œç±»å‹æ˜¯å¦æ­£ç¡®
3. ä¸»é”®æ˜¯å¦æ­£ç¡®è®¾ç½®ï¼ˆæ˜¾ç¤ºé’¥åŒ™å›¾æ ‡ï¼‰
4. å¤–é”®å…³è”æ˜¯å¦æ˜¾ç¤ºè¿æ¥çº¿
5. èƒ½å¦æˆåŠŸæ’å…¥æµ‹è¯•æ•°æ®
```

##### åœºæ™¯2ï¼šå­—æ®µä¿®æ”¹éªŒè¯
```markdown
æ£€æŸ¥æ¸…å•ï¼š
1. å­—æ®µç±»å‹æ˜¯å¦å·²æ›´æ–°
2. å­—æ®µçº¦æŸæ˜¯å¦ç”Ÿæ•ˆï¼ˆå¿…å¡«/å¯é€‰ï¼‰
3. é»˜è®¤å€¼æ˜¯å¦æ­£ç¡®åº”ç”¨
4. ç°æœ‰æ•°æ®æ˜¯å¦ä¿æŒå®Œæ•´
5. æ–°æ•°æ®æ’å…¥æ˜¯å¦ç¬¦åˆæ–°è§„åˆ™
```

##### åœºæ™¯3ï¼šå…³è”å…³ç³»éªŒè¯
```markdown
æ£€æŸ¥æ¸…å•ï¼š
1. å…³è”è¡¨ä¹‹é—´æ˜¯å¦æ˜¾ç¤ºè¿æ¥çº¿
2. å¤–é”®å­—æ®µæ˜¯å¦æ­£ç¡®æ˜¾ç¤º
3. èƒ½å¦é€šè¿‡å…³è”åˆ›å»ºæ•°æ®
4. åˆ é™¤çˆ¶è®°å½•æ—¶å­è®°å½•æ˜¯å¦æ­£ç¡®å¤„ç†
5. æŸ¥è¯¢å…³è”æ•°æ®æ˜¯å¦è¿”å›æ­£ç¡®ç»“æœ
```

---

## ğŸ“‹ ç”¨æˆ·ä¿¡æ¯æ”¶é›†æ¸…å•

### å¼€å§‹å¼€å‘å‰å¿…éœ€ä¿¡æ¯

#### åŠŸèƒ½éœ€æ±‚ä¿¡æ¯
- [ ] **åŠŸèƒ½æè¿°**ï¼šç”¨æˆ·æƒ³è¦å®ç°ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ
- [ ] **ä½¿ç”¨åœºæ™¯**ï¼šåœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨è¿™ä¸ªåŠŸèƒ½ï¼Ÿ
- [ ] **ç”¨æˆ·è§’è‰²**ï¼šè°ä¼šä½¿ç”¨è¿™ä¸ªåŠŸèƒ½ï¼Ÿ
- [ ] **æ•°æ®æ¥æº**ï¼šæ•°æ®ä»å“ªé‡Œæ¥ï¼Ÿå¦‚ä½•è·å–ï¼Ÿ
- [ ] **æ˜¾ç¤ºè¦æ±‚**ï¼šæ•°æ®å¦‚ä½•å±•ç¤ºï¼Ÿæœ‰ä»€ä¹ˆæ ¼å¼è¦æ±‚ï¼Ÿ

#### æŠ€æœ¯å®ç°ä¿¡æ¯
- [ ] **é¡µé¢ä½ç½®**ï¼šåŠŸèƒ½åœ¨å“ªä¸ªé¡µé¢ï¼Ÿ
- [ ] **æ•°æ®ç»“æ„**ï¼šéœ€è¦å­˜å‚¨å“ªäº›å­—æ®µï¼Ÿ
- [ ] **å…³è”å…³ç³»**ï¼šä¸ç°æœ‰æ•°æ®æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ
- [ ] **æƒé™è¦æ±‚**ï¼šè°å¯ä»¥æŸ¥çœ‹/ç¼–è¾‘è¿™äº›æ•°æ®ï¼Ÿ
- [ ] **æ€§èƒ½è¦æ±‚**ï¼šæ•°æ®é‡å¤§æ¦‚å¤šå°‘ï¼Ÿæœ‰ä»€ä¹ˆæ€§èƒ½è¦æ±‚ï¼Ÿ

#### ä¸šåŠ¡é€»è¾‘ä¿¡æ¯
- [ ] **éªŒè¯è§„åˆ™**ï¼šæ•°æ®æœ‰ä»€ä¹ˆéªŒè¯è¦æ±‚ï¼Ÿ
- [ ] **ä¸šåŠ¡æµç¨‹**ï¼šæ•°æ®çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ä»€ä¹ˆï¼Ÿ
- [ ] **å¼‚å¸¸å¤„ç†**ï¼šå‡ºé”™æ—¶åº”è¯¥å¦‚ä½•å¤„ç†ï¼Ÿ
- [ ] **é€šçŸ¥æœºåˆ¶**ï¼šæ˜¯å¦éœ€è¦é€šçŸ¥ç›¸å…³äººå‘˜ï¼Ÿ

### ä¿¡æ¯æ”¶é›†æ¨¡æ¿

```markdown
## åŠŸèƒ½å¼€å‘éœ€æ±‚å•

### åŸºæœ¬ä¿¡æ¯
- **åŠŸèƒ½åç§°**ï¼š[ç”¨æˆ·å¡«å†™]
- **ä¼˜å…ˆçº§**ï¼šé«˜/ä¸­/ä½
- **é¢„æœŸå®Œæˆæ—¶é—´**ï¼š[ç”¨æˆ·å¡«å†™]

### åŠŸèƒ½æè¿°
- **åŠŸèƒ½æ¦‚è¿°**ï¼š[è¯¦ç»†æè¿°åŠŸèƒ½]
- **ä½¿ç”¨åœºæ™¯**ï¼š[ä»€ä¹ˆæ—¶å€™ä½¿ç”¨]
- **ç”¨æˆ·è§’è‰²**ï¼š[è°ä¼šä½¿ç”¨]

### æ•°æ®éœ€æ±‚
- **æ•°æ®å­—æ®µ**ï¼š[åˆ—å‡ºæ‰€æœ‰éœ€è¦çš„å­—æ®µ]
- **å­—æ®µç±»å‹**ï¼š[æ¯ä¸ªå­—æ®µçš„æ•°æ®ç±»å‹]
- **éªŒè¯è§„åˆ™**ï¼š[æ•°æ®éªŒè¯è¦æ±‚]
- **å…³è”å…³ç³»**ï¼š[ä¸ç°æœ‰æ•°æ®çš„å…³ç³»]

### ç•Œé¢éœ€æ±‚
- **é¡µé¢ä½ç½®**ï¼š[åœ¨å“ªä¸ªé¡µé¢]
- **æ˜¾ç¤ºæ–¹å¼**ï¼š[å¦‚ä½•å±•ç¤ºæ•°æ®]
- **äº¤äº’æ–¹å¼**ï¼š[ç”¨æˆ·å¦‚ä½•æ“ä½œ]

### æŠ€æœ¯è¦æ±‚
- **æ€§èƒ½è¦æ±‚**ï¼š[å“åº”æ—¶é—´ã€æ•°æ®é‡ç­‰]
- **å…¼å®¹æ€§è¦æ±‚**ï¼š[æµè§ˆå™¨ã€è®¾å¤‡ç­‰]
- **å®‰å…¨è¦æ±‚**ï¼š[æƒé™ã€åŠ å¯†ç­‰]
```

### å¸¸è§é—æ¼ä¿¡æ¯åŠæé†’

#### ç»å¸¸è¢«å¿½ç•¥çš„é‡è¦ä¿¡æ¯
1. **æ•°æ®éªŒè¯è§„åˆ™**ï¼šå­—æ®µé•¿åº¦ã€æ ¼å¼è¦æ±‚ã€å¿…å¡«æ€§
2. **é”™è¯¯å¤„ç†**ï¼šæ•°æ®å¼‚å¸¸æ—¶çš„å¤„ç†æ–¹å¼
3. **æƒé™æ§åˆ¶**ï¼šè°å¯ä»¥æŸ¥çœ‹ã€ç¼–è¾‘ã€åˆ é™¤æ•°æ®
4. **æ•°æ®å…³è”**ï¼šä¸ç°æœ‰åŠŸèƒ½çš„å…³ç³»å’Œå½±å“
5. **æ€§èƒ½è€ƒè™‘**ï¼šå¤§æ•°æ®é‡æ—¶çš„å¤„ç†æ–¹å¼

#### ä¸»åŠ¨è¯¢é—®çš„é—®é¢˜æ¨¡æ¿
```markdown
ä¸ºäº†æ›´å¥½åœ°å®ç°æ‚¨çš„éœ€æ±‚ï¼Œæˆ‘éœ€è¦ç¡®è®¤ä»¥ä¸‹ä¿¡æ¯ï¼š

1. æ•°æ®ç»“æ„æ–¹é¢ï¼š
   - è¿™ä¸ªåŠŸèƒ½éœ€è¦å­˜å‚¨å“ªäº›å…·ä½“ä¿¡æ¯ï¼Ÿ
   - æ¯ä¸ªå­—æ®µçš„æ•°æ®ç±»å‹å’Œé•¿åº¦è¦æ±‚æ˜¯ä»€ä¹ˆï¼Ÿ
   - å“ªäº›å­—æ®µæ˜¯å¿…å¡«çš„ï¼Œå“ªäº›æ˜¯å¯é€‰çš„ï¼Ÿ

2. ä¸šåŠ¡é€»è¾‘æ–¹é¢ï¼š
   - æ•°æ®çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ä»€ä¹ˆï¼Ÿï¼ˆåˆ›å»ºâ†’ç¼–è¾‘â†’åˆ é™¤ï¼‰
   - æ˜¯å¦éœ€è¦æ•°æ®å®¡æ ¸æµç¨‹ï¼Ÿ
   - å‡ºç°é”™è¯¯æ—¶åº”è¯¥å¦‚ä½•å¤„ç†ï¼Ÿ

3. ç”¨æˆ·ä½“éªŒæ–¹é¢ï¼š
   - æ•°æ®åº”è¯¥å¦‚ä½•æ’åºå’Œç­›é€‰ï¼Ÿ
   - æ˜¯å¦éœ€è¦åˆ†é¡µæ˜¾ç¤ºï¼Ÿ
   - ç”¨æˆ·æ“ä½œæ˜¯å¦éœ€è¦ç¡®è®¤æç¤ºï¼Ÿ

4. æŠ€æœ¯å®ç°æ–¹é¢ï¼š
   - é¢„æœŸçš„æ•°æ®é‡å¤§æ¦‚æ˜¯å¤šå°‘ï¼Ÿ
   - æ˜¯å¦éœ€è¦ä¸å…¶ä»–ç³»ç»Ÿé›†æˆï¼Ÿ
   - æœ‰ä»€ä¹ˆç‰¹æ®Šçš„æ€§èƒ½è¦æ±‚ï¼Ÿ
```

é€šè¿‡è¿™ä¸ªæŒ‡å—ï¼ŒAIåŠ©æ‰‹å¯ä»¥æ›´ç³»ç»Ÿåœ°å¤„ç†ç”¨æˆ·éœ€æ±‚ï¼Œç¡®ä¿å¼€å‘è¿‡ç¨‹çš„å®Œæ•´æ€§å’Œå‡†ç¡®æ€§ã€‚

---

## ğŸŒ æœåŠ¡åœ°å€å’Œè¿æ¥ä¿¡æ¯

### å¼€å‘ç¯å¢ƒæœåŠ¡åœ°å€

#### å‰ç«¯æœåŠ¡
- **è®¿é—®åœ°å€**ï¼šhttp://localhost:3000
- **å®¹å™¨åç§°**ï¼šcompany_re-frontend-1
- **å†…éƒ¨ç«¯å£**ï¼š3000
- **æŠ€æœ¯æ ˆ**ï¼šNext.js 15.3.3 + React 18 + TypeScript

#### åç«¯APIæœåŠ¡
- **è®¿é—®åœ°å€**ï¼šhttp://localhost:3001
- **APIåŸºç¡€URL**ï¼šhttp://localhost:3001/api
- **å¥åº·æ£€æŸ¥**ï¼šhttp://localhost:3001/api/health
- **å®¹å™¨åç§°**ï¼šcompany_re-backend-1
- **å†…éƒ¨ç«¯å£**ï¼š3001
- **æŠ€æœ¯æ ˆ**ï¼šExpress.js 5.1.0 + TypeScript + Prisma

#### æ•°æ®åº“æœåŠ¡
- **ä¸»æœºåœ°å€**ï¼šlocalhost:5432 (å®¹å™¨å¤–è®¿é—®)
- **å®¹å™¨å†…åœ°å€**ï¼šdb:5432 (å®¹å™¨å†…è®¿é—®)
- **æ•°æ®åº“åç§°**ï¼šcompany_re
- **ç”¨æˆ·å**ï¼špostgres
- **å¯†ç **ï¼špostgres
- **å®¹å™¨åç§°**ï¼šcompany_re-db-1
- **æŠ€æœ¯æ ˆ**ï¼šPostgreSQL 15

#### Prisma Studio
- **è®¿é—®åœ°å€**ï¼šhttp://localhost:5555
- **å¯åŠ¨å‘½ä»¤**ï¼š`cd backend && npx prisma studio`
- **ç”¨é€”**ï¼šæ•°æ®åº“å¯è§†åŒ–ç®¡ç†å·¥å…·

#### Nginxåå‘ä»£ç†
- **HTTPè®¿é—®**ï¼šhttp://localhost:80
- **HTTPSè®¿é—®**ï¼šhttps://localhost:443
- **å®¹å™¨åç§°**ï¼šcompany_re-nginx-1
- **ç”¨é€”**ï¼šå‰åç«¯è¯·æ±‚ä»£ç†å’Œè´Ÿè½½å‡è¡¡

### ç”Ÿäº§ç¯å¢ƒæœåŠ¡åœ°å€

#### å‰ç«¯æœåŠ¡
- **è®¿é—®åœ°å€**ï¼šhttps://yourdomain.com
- **å†…éƒ¨ç«¯å£**ï¼š3000
- **ç¯å¢ƒå˜é‡**ï¼šNODE_ENV=production

#### åç«¯APIæœåŠ¡
- **è®¿é—®åœ°å€**ï¼šhttps://api.yourdomain.com
- **APIåŸºç¡€URL**ï¼šhttps://api.yourdomain.com/api
- **å¥åº·æ£€æŸ¥**ï¼šhttps://api.yourdomain.com/api/health
- **å†…éƒ¨ç«¯å£**ï¼š3001
- **ç¯å¢ƒå˜é‡**ï¼šNODE_ENV=production

#### æ•°æ®åº“æœåŠ¡
- **ä¸»æœºåœ°å€**ï¼šproduction-host:5432
- **æ•°æ®åº“åç§°**ï¼šcompany_re
- **ç”¨æˆ·å**ï¼šproduction_user
- **å¯†ç **ï¼šproduction_password
- **SSLè¿æ¥**ï¼šrequired

### å®¹å™¨å†…å¤–è®¿é—®å·®å¼‚

#### æ•°æ®åº“è¿æ¥å·®å¼‚
```bash
# å®¹å™¨å¤–è®¿é—®ï¼ˆç”¨äºPrismaå‘½ä»¤ã€æœ¬åœ°å¼€å‘å·¥å…·ï¼‰
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/company_re

# å®¹å™¨å†…è®¿é—®ï¼ˆç”¨äºåº”ç”¨è¿è¡Œæ—¶ï¼‰
DATABASE_URL=postgresql://postgres:postgres@db:5432/company_re
```

#### æœåŠ¡é—´é€šä¿¡
```bash
# å‰ç«¯è°ƒç”¨åç«¯ï¼ˆå¼€å‘ç¯å¢ƒï¼‰
API_BASE_URL=http://localhost:3001/api

# å®¹å™¨å†…æœåŠ¡é—´è°ƒç”¨
API_BASE_URL=http://backend:3001/api

# ç”Ÿäº§ç¯å¢ƒ
API_BASE_URL=https://api.yourdomain.com/api
```

### ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶

#### å¼€å‘ç¯å¢ƒé…ç½® (env.dev)
```bash
# æ•°æ®åº“é…ç½®
DATABASE_URL=postgresql://postgres:postgres@db:5432/company_re

# æœåŠ¡ç«¯å£
PORT=3001
FRONTEND_PORT=3000

# ç¯å¢ƒæ ‡è¯†
NODE_ENV=development

# APIé…ç½®
API_BASE_URL=http://localhost:3001/api

# æ—¥å¿—çº§åˆ«
LOG_LEVEL=debug
```

#### ç”Ÿäº§ç¯å¢ƒé…ç½® (env.prod)
```bash
# æ•°æ®åº“é…ç½®
DATABASE_URL=postgresql://username:password@production-host:5432/company_re

# æœåŠ¡ç«¯å£
PORT=3001
FRONTEND_PORT=3000

# ç¯å¢ƒæ ‡è¯†
NODE_ENV=production

# APIé…ç½®
API_BASE_URL=https://api.yourdomain.com/api

# å®‰å…¨é…ç½®
JWT_SECRET=your-production-secret-key
CORS_ORIGIN=https://yourdomain.com

# æ—¥å¿—çº§åˆ«
LOG_LEVEL=info
```

#### åç«¯Prismaä¸“ç”¨é…ç½® (backend/.env)
```bash
# ç”¨äºPrisma CLIå‘½ä»¤çš„æ•°æ®åº“è¿æ¥
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/company_re

# æ³¨æ„ï¼šè¿™ä¸ªæ–‡ä»¶ä»…ç”¨äºPrismaå‘½ä»¤ï¼Œä¸ç”¨äºåº”ç”¨è¿è¡Œæ—¶
```

### æœåŠ¡éªŒè¯å‘½ä»¤

#### å¿«é€ŸæœåŠ¡çŠ¶æ€æ£€æŸ¥
```bash
# æ£€æŸ¥æ‰€æœ‰å®¹å™¨çŠ¶æ€
docker compose ps

# æµ‹è¯•å‰ç«¯æœåŠ¡
curl -s -o /dev/null -w "å‰ç«¯: %{http_code}\n" http://localhost:3000

# æµ‹è¯•åç«¯æœåŠ¡
curl -s -o /dev/null -w "åç«¯: %{http_code}\n" http://localhost:3001

# æµ‹è¯•å¥åº·æ£€æŸ¥API
curl http://localhost:3001/api/health | jq .

# æµ‹è¯•æ•°æ®åº“è¿æ¥
docker compose exec -T db psql -U postgres -d company_re -c "SELECT version();"

# æµ‹è¯•Nginxä»£ç†
curl -s -o /dev/null -w "Nginx: %{http_code}\n" http://localhost:80
```

#### è¯¦ç»†è¿æ¥æµ‹è¯•
```bash
# æµ‹è¯•å®¹å™¨é—´ç½‘ç»œè¿é€šæ€§
docker compose exec backend ping -c 3 db
docker compose exec frontend ping -c 3 backend

# æµ‹è¯•æ•°æ®åº“è¿æ¥ï¼ˆä»åç«¯å®¹å™¨ï¼‰
docker compose exec backend node -e "
const { PrismaClient } = require('@prisma/client');
const prisma = new PrismaClient();
prisma.\$connect().then(() => console.log('DB Connected')).catch(console.error);
"

# æµ‹è¯•APIæ¥å£
curl -X GET http://localhost:3001/api/health
curl -X GET http://localhost:3001/api/home
```

### å¼€å‘å·¥å…·è®¿é—®

#### Prisma Studioä½¿ç”¨
```bash
# å¯åŠ¨Prisma Studio
cd backend && npx prisma studio

# è®¿é—®åœ°å€ï¼šhttp://localhost:5555
# åŠŸèƒ½ï¼š
# - æŸ¥çœ‹æ•°æ®åº“è¡¨ç»“æ„
# - æµè§ˆå’Œç¼–è¾‘æ•°æ®
# - æµ‹è¯•æ•°æ®å…³è”å…³ç³»
# - éªŒè¯æ•°æ®åº“è¿ç§»ç»“æœ
```

#### Swagger APIæ–‡æ¡£
```bash
# è®¿é—®åœ°å€ï¼šhttp://localhost:3001/api-docs
# åŠŸèƒ½ï¼š
# - æŸ¥çœ‹æ‰€æœ‰APIæ¥å£æ–‡æ¡£
# - åœ¨çº¿æµ‹è¯•APIæ¥å£
# - æŸ¥çœ‹è¯·æ±‚/å“åº”æ ¼å¼
# - ä¸‹è½½APIè§„èŒƒæ–‡ä»¶
```

### æ•…éšœæ’æŸ¥åœ°å€

#### æœåŠ¡æ— æ³•è®¿é—®æ—¶çš„æ£€æŸ¥é¡ºåº
1. **å®¹å™¨çŠ¶æ€**ï¼š`docker compose ps`
2. **å®¹å™¨æ—¥å¿—**ï¼š`docker compose logs [service-name]`
3. **ç«¯å£å ç”¨**ï¼š`lsof -i :3001`
4. **ç½‘ç»œè¿é€š**ï¼š`docker compose exec backend ping db`
5. **ç¯å¢ƒå˜é‡**ï¼š`docker compose exec backend env | grep DATABASE`

#### å¸¸è§é—®é¢˜å’Œå¯¹åº”åœ°å€
- **å‰ç«¯404é”™è¯¯**ï¼šæ£€æŸ¥ http://localhost:3000
- **APIæ¥å£404**ï¼šæ£€æŸ¥ http://localhost:3001/api/health
- **æ•°æ®åº“è¿æ¥å¤±è´¥**ï¼šæ£€æŸ¥ localhost:5432
- **Nginxä»£ç†é”™è¯¯**ï¼šæ£€æŸ¥ http://localhost:80

è¿™äº›åœ°å€å’Œé…ç½®ä¿¡æ¯æ˜¯AIåŠ©æ‰‹è¿›è¡Œå¼€å‘å’Œé—®é¢˜æ’æŸ¥çš„é‡è¦å‚è€ƒã€‚
